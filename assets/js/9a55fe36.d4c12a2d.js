"use strict";(self.webpackChunkinterview=self.webpackChunkinterview||[]).push([[2075],{3905:(e,t,a)=>{a.d(t,{Zo:()=>h,kt:()=>k});var i=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,i,n=function(e,t){if(null==e)return{};var a,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=i.createContext({}),c=function(e){var t=i.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},h=function(e){var t=c(e.components);return i.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,s=e.parentName,h=l(e,["components","mdxType","originalType","parentName"]),m=c(a),k=n,u=m["".concat(s,".").concat(k)]||m[k]||d[k]||r;return a?i.createElement(u,o(o({ref:t},h),{},{components:a})):i.createElement(u,o({ref:t},h))}));function k(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,o=new Array(r);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,o[1]=l;for(var c=2;c<r;c++)o[c]=a[c];return i.createElement.apply(null,o)}return i.createElement.apply(null,a)}m.displayName="MDXCreateElement"},9731:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var i=a(7462),n=(a(7294),a(3905));const r={tree_title:"Location Lockers System Design",description:"System Design for Location Lockers.",last_modified:new Date("2022-06-25T15:13:29.132Z")},o="Location Lockers System Design",l={unversionedId:"system-design/location-lockers",id:"system-design/location-lockers",title:"Location Lockers System Design",description:"System Design for Location Lockers.",source:"@site/docs/system-design/location-lockers.md",sourceDirName:"system-design",slug:"/system-design/location-lockers",permalink:"/interview/docs/system-design/location-lockers",draft:!1,tags:[],version:"current",frontMatter:{tree_title:"Location Lockers System Design",description:"System Design for Location Lockers.",last_modified:"2022-06-25T15:13:29.132Z"},sidebar:"docs",previous:{title:"Job Scheduling System",permalink:"/interview/docs/system-design/job-scheduling-system"},next:{title:"Netflix System Design",permalink:"/interview/docs/system-design/netflix"}},s={},c=[{value:"Introduction &amp; Requirements of the System",id:"introduction--requirements-of-the-system",level:2},{value:"Assumptions",id:"assumptions",level:2},{value:"Clarifying Questions",id:"clarifying-questions",level:3},{value:"Design",id:"design",level:2},{value:"Package Service",id:"package-service",level:3},{value:"Locker Suggestion Service",id:"locker-suggestion-service",level:3},{value:"References",id:"references",level:2}],h={toc:c};function d(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,i.Z)({},h,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"location-lockers-system-design"},"Location Lockers System Design"),(0,n.kt)("h2",{id:"introduction--requirements-of-the-system"},"Introduction & Requirements of the System"),(0,n.kt)("p",null,"When shopping at Amazon, during checkout, you can select an Amazon locker as delivery address. Design a service that provides the front-end with available lockers to show them on a map/list for the user to select one.\nLater: What happens if a package is delivered to a locker by Amazon delivery man?"),(0,n.kt)("div",{class:"section-container pl0 pr0"},(0,n.kt)("div",{class:"section-item pl0"},(0,n.kt)("h2",{id:"assumptions"},"Assumptions"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"There will be multiple locker locations available for a region."),(0,n.kt)("li",{parentName:"ul"},"Each locker location can have multiple locker each having their different sizes ( width, height, length) and other details like what's the ground height of the locker etc."),(0,n.kt)("li",{parentName:"ul"},"The user can select a locker location from the list of available locker locations."))),(0,n.kt)("div",{class:"section-item"},(0,n.kt)("h3",{id:"clarifying-questions"},"Clarifying Questions"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Can we place multiple package within a locker or single package per locker?"),(0,n.kt)("li",{parentName:"ul"},"Do we need to consider other factors while deciding the locker like locker height, weight it can handle etc."),(0,n.kt)("li",{parentName:"ul"},"Do we need to consider a scenario where a item can't be placed in a locker like fridge, cycle, washing machine or lets say we have a locker for any kind of item."),(0,n.kt)("li",{parentName:"ul"},"For each item there will be a package. eg. for fridge, cycle, machine there will be a package so do we need to decide a locker based on the package size or the item size.")))),(0,n.kt)("h2",{id:"design"},"Design"),(0,n.kt)("h3",{id:"package-service"},"Package Service"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"To design our locker suggestion service, we need the items details like item_id, package details ( height, width, length, weight )in which that item will be packaged. ",(0,n.kt)("mark",null,"Package Service")," - this service will give the package details based upon the item_id. One thing to keep in mind is that we need to consider the package size not the item size as many times we have seen that the package size is much larger that the item size. But for simple scenarios, we can assume that the package size is same as that of the item size."),(0,n.kt)("li",{parentName:"ul"},"Each locker location can have multiple locker each having their different sizes ( width, height, length) and other details like what's the ground height of the locker etc."),(0,n.kt)("li",{parentName:"ul"},"The user can select a locker location from the list of available locker locations.")),(0,n.kt)("h3",{id:"locker-suggestion-service"},"Locker Suggestion Service"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"A method of this service will suggest the near by lockers based upon the delivery location and max distance passed in the request and in response we can return the locker_location_ids."),(0,n.kt)("li",{parentName:"ul"},"A method to suggest the available & appropriate locker for a location What are the parameters we can expect from front end considering.")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "locker_location_id" : xx,\n    "items_ids" : [ item_id1, item_id2],\n    "user_approachable_height" : yy\n}\n')),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Now, this service internal logic can go as :",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"will call the package service to get the package size for the items based upon the item_id"),(0,n.kt)("li",{parentName:"ul"},"will does the calculation to club two or more packages in the available lockers and if all the packages can be placed in the available lockers then return the below response.")))),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "item_id1" : available,\n    "item_id2" : available,\n    "item_id3" : available,\n    "item_id4" : available\n    "item_id5" : not available ( reasons can be:  no more locker available, or weight was higher than all the available lockers or user\'s accessible height was lesser than the locker\'s height.\n}\n')),(0,n.kt)("p",null,"And, the UI can show the above response in some graphical way."),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Now, lets say users want to proceed with the items 1,2,3,4 then in that case we have to reserve the lockers on that order_id and once, that order is confirmed then we need to mark the lockers as ",(0,n.kt)("mark",null,"Not-Available"),"."),(0,n.kt)("li",{parentName:"ul"},"A method to reserve the locker which expect the ",(0,n.kt)("mark",null,"order_id")," & ",(0,n.kt)("mark",null,"item_id")," in request. ","[IMP]"," Before marking the lockers as reserve it will again do the does the above calculation and then assign the mark the locker as reserved and assign the order_id to that locker."),(0,n.kt)("li",{parentName:"ul"},"A method to mark the locker as NA which expect the ",(0,n.kt)("mark",null,"order_id")," and it will mark all the reserved lockers associated to that ",(0,n.kt)("mark",null,"order_id"),".")),(0,n.kt)("b",null,"Later: What happens if a package is delivered to a locker by Amazon delivery man?"),(0,n.kt)("b",null,"Clarifying Questions"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Is there any code using which we can open the locker. So, when the locker is marked NA when order is placed then a code will be generated in the system and shared with the delivery man when assigned."),(0,n.kt)("li",{parentName:"ol"},"Delivery man will use that code to open the locker, place the item and close. This means delivery has happened"),(0,n.kt)("li",{parentName:"ol"},"Now, the system will generate the code for the user to collect the package.")),(0,n.kt)("h2",{id:"references"},"References"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://leetcode.com/discuss/interview-question/system-design/2296964/Amazon-or-Onsite-SDE2-or-System-Design-or-Location-of-Lockers"},"Location of Lockers - Leetcode"))))}d.isMDXComponent=!0}}]);